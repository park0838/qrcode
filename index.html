<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR ì½”ë“œ ìƒì„±ê¸° - ëª¨ë˜í•˜ê³  ì „ë¬¸ì ì¸</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="background-animation"></div>
    
    <div class="container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-qrcode"></i>
                <h1>QR ì½”ë“œ ìƒì„±ê¸°</h1>
            </div>
            <p class="subtitle">ì•„ë¦„ë‹¤ìš´ QR ì½”ë“œë¥¼ ì¦‰ì‹œ ìƒì„±í•˜ì„¸ìš”</p>
        </header>

        <main class="main-content">
            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="url">
                        <i class="fas fa-link"></i>
                        URL/ë§í¬
                    </button>
                    <button class="tab-btn" data-tab="wifi">
                        <i class="fas fa-wifi"></i>
                        WiFi ë„¤íŠ¸ì›Œí¬
                    </button>
                </div>

                <div class="tab-content">
                    <!-- URL Tab -->
                    <div class="tab-panel active" id="url-tab">
                        <div class="input-section">
                            <h2>URL/ë§í¬ QR ì½”ë“œ ìƒì„±</h2>
                            <p class="description">URL ë˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì—¬ QR ì½”ë“œë¥¼ ìƒì„±í•˜ì„¸ìš”</p>
                            
                            <div class="input-group">
                                <label for="url-input">URL ë˜ëŠ” í…ìŠ¤íŠ¸</label>
                                <input 
                                    type="text" 
                                    id="url-input" 
                                    placeholder="https://example.com ë˜ëŠ” í…ìŠ¤íŠ¸ ì…ë ¥..." 
                                    autocomplete="off"
                                >
                                <div class="input-validation" id="url-validation"></div>
                            </div>

                            <button class="generate-btn" id="url-generate-btn">
                                <i class="fas fa-qrcode"></i>
                                QR ì½”ë“œ ìƒì„±
                            </button>
                        </div>

                        <div class="qr-section">
                            <div class="qr-container" id="url-qr-container">
                                <div class="qr-placeholder" id="url-qr-placeholder">
                                    <i class="fas fa-qrcode"></i>
                                    <p>í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê³  ìƒì„± ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</p>
                                </div>
                                <canvas id="url-qr-canvas" style="display: none;"></canvas>
                            </div>
                            <button class="download-btn" id="url-download-btn" style="display: none;">
                                <i class="fas fa-download"></i>
                                QR ì½”ë“œ ë‹¤ìš´ë¡œë“œ
                            </button>
                        </div>
                    </div>

                    <!-- WiFi Tab -->
                    <div class="tab-panel" id="wifi-tab">
                        <div class="input-section">
                            <h2>WiFi QR ì½”ë“œ ìƒì„±</h2>
                            <p class="description">ì‰¬ìš´ WiFi ì—°ê²°ì„ ìœ„í•œ QR ì½”ë“œë¥¼ ìƒì„±í•˜ì„¸ìš”</p>
                            
                            <div class="input-group">
                                <label for="wifi-ssid">ë„¤íŠ¸ì›Œí¬ ì´ë¦„ (SSID)</label>
                                <input 
                                    type="text" 
                                    id="wifi-ssid" 
                                    placeholder="WiFi ë„¤íŠ¸ì›Œí¬ ì´ë¦„ ì…ë ¥..." 
                                    autocomplete="off"
                                >
                            </div>

                            <div class="input-group">
                                <label for="wifi-password">ë¹„ë°€ë²ˆí˜¸</label>
                                <div class="password-input">
                                    <input 
                                        type="password" 
                                        id="wifi-password" 
                                        placeholder="WiFi ë¹„ë°€ë²ˆí˜¸ ì…ë ¥..." 
                                        autocomplete="off"
                                    >
                                    <button type="button" class="password-toggle" id="password-toggle">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="input-group">
                                <label for="wifi-security">ë³´ì•ˆ ìœ í˜•</label>
                                <select id="wifi-security">
                                    <option value="WPA">WPA/WPA2</option>
                                    <option value="WEP">WEP</option>
                                    <option value="nopass">ê°œë°©í˜• ë„¤íŠ¸ì›Œí¬</option>
                                </select>
                            </div>

                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="wifi-hidden">
                                    <span class="checkmark"></span>
                                    ìˆ¨ê²¨ì§„ ë„¤íŠ¸ì›Œí¬
                                </label>
                            </div>

                            <button class="generate-btn" id="wifi-generate-btn">
                                <i class="fas fa-wifi"></i>
                                WiFi QR ì½”ë“œ ìƒì„±
                            </button>
                        </div>

                        <div class="qr-section">
                            <div class="qr-container" id="wifi-qr-container">
                                <div class="qr-placeholder" id="wifi-qr-placeholder">
                                    <i class="fas fa-wifi"></i>
                                    <p>WiFi ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  ìƒì„± ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</p>
                                </div>
                                <canvas id="wifi-qr-canvas" style="display: none;"></canvas>
                            </div>
                            <button class="download-btn" id="wifi-download-btn" style="display: none;">
                                <i class="fas fa-download"></i>
                                QR ì½”ë“œ ë‹¤ìš´ë¡œë“œ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>
                <i class="fas fa-heart"></i>
                ìµœì‹  ì›¹ ê¸°ìˆ ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤
            </p>
        </footer>
    </div>

    <!-- Multiple CDN sources for QRCode library -->
    <script>
        window.qrCodeLibraryLoaded = false;
        
        function loadQRCodeLibrary() {
            console.log('ğŸ”„ Attempting to load QRCode library...');
            
            // List of CDN sources to try
            const cdnSources = [
                'https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js',
                'https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js',
                'https://cdn.skypack.dev/qrcode@1.5.3',
                'https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js'
            ];
            
            let currentIndex = 0;
            
            function tryNextCDN() {
                if (currentIndex >= cdnSources.length) {
                    console.error('âŒ All CDN sources failed, using Google Charts only');
                    window.qrCodeLibraryLoaded = false;
                    return;
                }
                
                const script = document.createElement('script');
                script.src = cdnSources[currentIndex];
                
                script.onload = function() {
                    console.log('âœ… QRCode library loaded from:', cdnSources[currentIndex]);
                    window.qrCodeLibraryLoaded = true;
                    
                    // Test if QRCode is actually available
                    if (typeof QRCode !== 'undefined') {
                        console.log('âœ… QRCode object confirmed available');
                    } else {
                        console.warn('âš ï¸ Script loaded but QRCode object not found, trying next CDN...');
                        currentIndex++;
                        tryNextCDN();
                    }
                };
                
                script.onerror = function() {
                    console.warn(`âš ï¸ Failed to load from ${cdnSources[currentIndex]}, trying next...`);
                    currentIndex++;
                    tryNextCDN();
                };
                
                document.head.appendChild(script);
            }
            
            tryNextCDN();
        }
        
        // Start loading immediately
        loadQRCodeLibrary();
    </script>
    <script src="script.js"></script>
</body>
</html>